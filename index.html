<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>SVG Watches</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="apple-touch-icon" href="icon.png"/>
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1"
        viewBox="0 0 1000 1000"
        preserveAspectRatio="xMidYMid meet" id="svg">
    <defs>
        <radialGradient id="touchGradient" cx="50%" cy="50%" r="50%">
            <stop stop-color="#282828" offset="40%"/>
            <stop stop-color="#323232" offset="60%"/>
            <stop stop-color="#282828" offset="75%"/>
        </radialGradient>
        <g id="touchTexture" fill="#eee" fill-opacity="0.1">
            <rect class="touch-texture-rect" x="260" y="-4" width="8" height="8"></rect>
            <rect class="touch-texture-rect" x="280" y="-4" width="8" height="8"></rect>
            <rect class="touch-texture-rect" x="300" y="-4" width="8" height="8"></rect>
        </g>
        <polygon id="markPrototype" points="375 10, 375 -10, 470 -13, 470 13" class="mark" />
        <polygon id="smallMarkPrototype" points="410 9, 410 -9, 470 -11, 470 11" class="smallmark" />
        <filter id="drop-shadow"> 
            <feGaussianBlur in="SourceAlpha" stdDeviation="2" result="blur"/>
            <feOffset in="blur" dx="1" dy="0" result="offsetBlur"/>
            <feMerge>
                <feMergeNode in="offsetBlur"/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>
        <style type="text/css"><![CDATA[
        .clockface-cover{
            fill: url(#touchGradient);
        }
        .arrows { 
            fill: #eee; 
        }
        .seconds{
            fill: red;
        }
        .seconds-nail{
            fill: #eee;
            stroke-width: 3px;
            stroke: #444;
        }
        .shadow{
            filter: url(#drop-shadow);
        }
        .service-button{
            fill: #777; 
        }
        .mark, .smallmark{
            fill: "#eee";
        }
        .speed-time{
            fill: #eee;
            text-anchor: middle;
            font-size: 140px;
        }
        .time-hint{
            fill: #aaa;
            text-anchor: middle;
            font-size: 50px;
            font-weight: bold;
        }
        .speed-time-cover{

        }
        .clockface{
            opacity: 0;
        }
        .clockface.active{
            -webkit-transition: opacity 0.5s linear;
            -moz-transition: opacity 0.5s linear;
            -o-transition: opacity 0.5s linear;
            opacity: 1;
        }
        ]]></style>
    </defs>
    <g transform="translate(500, 500)">
        <g id="clockface" class="clockface">
            <g>
                <g id="clearButton" transform="translate(400, -400)">
                    <circle cx="0" cy="0" r="50" class="service-button shadow" />
                    <path transform="scale(2.5), translate(-15, -15)" d="M25.947,11.14c0-5.174-3.979-9.406-10.613-9.406c-6.633,0-10.282,4.232-10.282,9.406c0,5.174,1.459,4.511,1.459,7.43c0,1.095-1.061,0.564-1.061,2.919c0,2.587,3.615,2.223,4.677,3.283c1.061,1.062,0.961,3.019,0.961,3.019s0.199,0.796,0.564,0.563c0,0,0.232,0.564,0.498,0.232c0,0,0.265,0.563,0.531,0.1c0,0,0.265,0.631,0.696,0.166c0,0,0.431,0.63,0.929,0.133c0,0,0.564,0.53,1.194,0.133c0.63,0.397,1.194-0.133,1.194-0.133c0.497,0.497,0.929-0.133,0.929-0.133c0.432,0.465,0.695-0.166,0.695-0.166c0.268,0.464,0.531-0.1,0.531-0.1c0.266,0.332,0.498-0.232,0.498-0.232c0.365,0.232,0.564-0.563,0.564-0.563s-0.1-1.957,0.961-3.019c1.062-1.061,4.676-0.696,4.676-3.283c0-2.354-1.061-1.824-1.061-2.919C24.488,15.651,25.947,16.314,25.947,11.14zM10.333,20.992c-1.783,0.285-2.59-0.215-2.785-1.492c-0.508-3.328,2.555-3.866,4.079-3.683c0.731,0.088,1.99,0.862,1.99,1.825C13.617,20.229,11.992,20.727,10.333,20.992zM16.461,25.303c-0.331,0-0.862-0.431-0.895-1.227c-0.033,0.796-0.63,1.227-0.961,1.227c-0.332,0-0.83-0.331-0.863-1.127c-0.033-0.796,1.028-4.013,1.792-4.013c0.762,0,1.824,3.217,1.791,4.013S16.794,25.303,16.461,25.303zM23.361,19.5c-0.195,1.277-1.004,1.777-2.787,1.492c-1.658-0.266-3.283-0.763-3.283-3.35c0-0.963,1.258-1.737,1.99-1.825C20.805,15.634,23.869,16.172,23.361,19.5z" fill="#eee"/>
                </g>
                <g id="reloadButton" transform="translate(-400, 400)">
                    <circle cx="0" cy="0" r="50" class="service-button shadow" />
                    <path transform="scale(2.5), translate(-15, -15)" d="M24.249,15.499c-0.009,4.832-3.918,8.741-8.75,8.75c-2.515,0-4.768-1.064-6.365-2.763l2.068-1.442l-7.901-3.703l0.744,8.694l2.193-1.529c2.244,2.594,5.562,4.242,9.26,4.242c6.767,0,12.249-5.482,12.249-12.249H24.249zM15.499,6.75c2.516,0,4.769,1.065,6.367,2.764l-2.068,1.443l7.901,3.701l-0.746-8.693l-2.192,1.529c-2.245-2.594-5.562-4.245-9.262-4.245C8.734,3.25,3.25,8.734,3.249,15.499H6.75C6.758,10.668,10.668,6.758,15.499,6.75z" fill="#eee"/>
                </g>
            </g>
            <circle cx="0" cy="0" r="485" class="clockface-cover" />
            <g id="touchTextureBlock"></g>
            <g id="clockmarkslive"></g>
            <g id="hours">
                <rect class="shadow arrows" x="-100" y="-15" width="350" height="30"></rect>
            </g>
            <g id="minutes">
                <rect class="shadow arrows" x="-100" y="-15" width="480" height="30"></rect>
            </g>
            <g id="seconds" class="shadow arrows seconds">
                <rect x="-100" y="-5" width="490" height="10"></rect>
                <circle cx="0" cy="0" r="13"/>
                <circle cx="0" cy="0" r="5" class="seconds-nail" />
            </g>
            <g id="speedTimeBlock" display="none">
                <polygon id="speedTimeMarker" points="420 0, 495 -25, 495 25" class="shadow" />
                <circle id="speedTimeCover" cx="0" cy="0" r="200" class="speed-time-cover" />
                <text id="speedTime" x="0" y="40" class="speed-time"></text>
            </g>
        </g>
    </g>
</svg>

<div id="eventPrompt" class="invisible">
    <div class="info-popup">
        <div class="info-popup-inner">
            <form id="eventForm" method="post" action="">
                <div id="setTime" class="time block"></div>
                <div class="block input-block">
                    <textarea id="eventName" class="form-input text" rows="2" placeholder="Wazzap!"></textarea>
                </div>
                <table class="buttons-box">
                    <tr>
                        <td align="left" width="50%">
                            <input id="eventButtonRemove" type="button" class="text button refuse-button" name="remove" value="Remove">
                        </td>
                        <td align="right" width="50%">
                            <input id="eventButtonSet" type="submit" class="text button" name="submit" value="Set">
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript" src="js/functions.js"></script>
<script type="text/javascript" src="js/mark.js"></script>
<script type="text/javascript" src="js/angle.js"></script>
<script type="text/javascript" src="js/element.js"></script>
<script type="text/javascript" src="js/dialog.js"></script>
<script type="text/javascript" src="js/clock.js"></script>
<script type="text/javascript">
function resizeSvg(){
    var svg = Element.find('svg');
    svg.attr({'width': window.innerWidth, 'height': window.innerHeight});
}

var orientationEvent = "onorientationchange" in window ? "orientationchange" : "resize";
window.addEventListener(orientationEvent, resizeSvg, false);
window.addEventListener('load', function(){
    var clock = new Clock();
    clock.start();
}, false);

resizeSvg();
</script>
</body>
</html>